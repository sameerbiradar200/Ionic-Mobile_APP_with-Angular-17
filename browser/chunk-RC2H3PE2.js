import{a as Y}from"./chunk-2T7G7VMJ.js";import"./chunk-COUMF7UM.js";import{A as T,B as E,N as L,S as k,X as F,Z as H,_ as O,a as h,b as v,d as I,e as C,f as S,fa as w,g as l,ga as A,ha as z,i as u,ia as B,j as c,ja as D,k as g,ka as R,l as P,la as U,m as f,ma as j,n as _,o as i,oa as $,p as r,pa as N,q as s,t as M,u as p,v as m,w as x,x as b,z as y}from"./chunk-SJW5BF6O.js";import"./chunk-L222AEIJ.js";import"./chunk-NCNWONFO.js";import"./chunk-Z5SA6UCA.js";import"./chunk-HYMT2B3Y.js";import"./chunk-F7XBNY6P.js";import"./chunk-NW5G6NBR.js";import"./chunk-FR7XTIPW.js";import"./chunk-RENFOTQD.js";import"./chunk-4U6PRYVA.js";import"./chunk-XODSA4YU.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-RW4GY4BD.js";var G=(e,t)=>t.id,J=()=>["ok"],K=e=>["/details",e];function Q(e,t){e&1&&(s(0,"ion-item",5),i(1,"ion-avatar",6),s(2,"ion-skeleton-text"),r(),s(3,"ion-skeleton-text",7))}function V(e,t){if(e&1&&(i(0,"ion-list"),f(1,Q,4,0,null,null,P),r()),e&2){let n=p();l(),_(n.dummyArray)}}function W(e,t){if(e&1&&s(0,"ion-alert",1),e&2){let n=p();c("message",n.error)("buttons",T(2,J))}}function X(e,t){if(e&1&&(i(0,"ion-item",2)(1,"ion-avatar",6),s(2,"img",8),r(),i(3,"ion-label",9)(4,"h3"),m(5),r(),i(6,"p"),m(7),r()(),i(8,"ion-badge",10),m(9),r()()),e&2){let n=t.$implicit,o=p();c("routerLink",E(5,K,n.id)),l(2),c("src",o.imageBaseUrl+"/w92"+n.poster_path,S),l(3),x(n.title),l(2),x(n.release_date),l(2),b("",n.vote_average," ")}}function Z(e,t){e&1&&(i(0,"ion-item",11)(1,"ion-label",12),m(2,"No Movies Found"),r()())}function ee(e,t){if(e&1&&u(0,Z,3,0,"ion-item",11),e&2){let n=p();g(n.isLoading?-1:0)}}var ce=(()=>{let t=class t{constructor(){this.movieService=I(Y),this.cuurentPage=1,this.error=null,this.isLoading=!1,this.movies=[],this.imageBaseUrl="https://image.tmdb.org/t/p",this.dummyArray=new Array(5),this.loadMovies()}loadMovies(o){this.error=null,o||(this.isLoading=!0),this.movieService.getTopRatedMovies(this.cuurentPage).pipe(v(()=>{this.isLoading=!1,o&&o.target.complete()}),h(a=>(console.log(a),this.error=a.error.status_message,[]))).subscribe({next:a=>{this.movies.push(...a.results),o&&(o.target.disabled=a.total_pages===this.cuurentPage)}})}loadMore(o){this.cuurentPage++,this.loadMovies(o)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=C({type:t,selectors:[["app-home"]],standalone:!0,features:[y],decls:13,vars:3,consts:[[3,"translucent"],["header","Error","isOpen","true",3,"message","buttons"],["button","",3,"routerLink"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","wait Sameer is Loading more data..."],["lines","null",1,"ion-no-padding-bottom"],["slot","start"],["animated","",2,"height","40px"],["alt","poster",3,"src"],[1,"ion-text-wrap"],["slot","end"],["lines","null"],[1,"ion-text-center"]],template:function(a,d){a&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),m(3," Sameer`s Movies Project "),r()()(),i(4,"ion-content"),u(5,V,3,0,"ion-list")(6,W,1,3,"ion-alert",1),i(7,"ion-list"),f(8,X,10,7,"ion-item",2,G,!1,ee,1,1),r(),i(11,"ion-infinite-scroll",3),M("ionInfinite",function(q){return d.loadMore(q)}),s(12,"ion-infinite-scroll-content",4),r()()),a&2&&(c("translucent",!0),l(5),g(d.isLoading?5:d.error?6:-1),l(3),_(d.movies))},dependencies:[A,N,$,w,U,D,j,H,F,R,k,L,O,z,B],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]});let e=t;return e})();export{ce as HomePage};
